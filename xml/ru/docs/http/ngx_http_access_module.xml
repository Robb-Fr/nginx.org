<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE module SYSTEM "../../../../dtd/module.dtd">

<module name="Директивы модуля ngx_http_access_module"
        link="/ru/docs/http/ngx_http_access_module.html"
        lang="ru">


<section name="" id="summary">

<para>
Модуль ngx_http_access_module позволяет закрыть доступ для определённых
IP-адресов клиентов.
</para>

</section>


<section name="Пример конфигурации" id="example">

<para>
<example>
    location  /  {
        deny    192.168.1.1;
        allow   192.168.1.0/24;
        allow   10.1.1.0/16;
        deny    all;
    }
</example>
</para>

<para>
Правила проверяются в порядке их записи до первого соответствия.
В данном примере доступ разрешён только для сетей 10.1.1.0/16
и 192.168.1.0/24, кроме адреса 192.168.1.1.
Если правил много, то лучше воспользоваться переменными модуля
<link doc="ngx_http_geo_module.xml">ngx_http_geo_module</link>.
</para>

</section>


<section name="Директивы" id="directives">

<directive name="allow">
<syntax><value>[адрес|CIDR|all]</value></syntax>
<default/>
<context>http, server, location, limit_except</context>

<para>
Директива разрешает доступ для указанной сети или адреса.
</para>

</directive>


<directive name="deny">
<syntax><value>[адрес|CIDR|all]</value></syntax>
<default/>
<context>http, server, location, limit_except</context>

<para>
Директива запрещает доступ для указанной сети или адреса.
</para>

</directive>

</section>

</module>
